var SlideExperience;(function(n){function a(n,t,i,r,u,f,e,o,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var ot=new AjaxDataLoader.AjaxDataLoader("SlideExp",f,!0),ut=new s(n,t,i,r,u,ot,e,o,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt),ft,et;if(ut.init(),_w.StateUpdater){if(ft=_w.StateUpdater.restore(ut.stateKey),ft==null)return;et=parseInt(ft);ut.slideToIndex(et,null,!0)}}function e(n){for(var t in u)if(t.indexOf(n)===0)return u[t]}function i(){sj_evt.fire("lazyLdImg")}function v(n,t){var i=e(n);i&&!i.enableAutoStackableSlideCrossFading&&(i.disableAutoSliding(),i.disableAutoSlidingAnimation(),i.slideToIndex(t))}function y(n){var t=e(n),i=[];return t&&(i=t.getVisibleSlidesIndices()),i}function p(n,t){var i=e(n),r=i.getVisiblePercentage(t);return new o(t,r)}var t="slide_fading",f="hideSlideMask",h="b_autoslidingfade",c="firstslideopaque",l="enable_selecting",r="selected",o=function(){function n(n,t){this.slideIndex=n;this.visiblePercentage=t}return n}(),s,u;n.VisibleSlide=o;s=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){var rt=this;if(this.slidingTimeSpan=.25,this.animationInterval=50,this.swipeThreshold=50,this.autoSlidingInterval=0,this.autoSlidingPausedTimeStamp=0,this.latestSwipeActionId=0,this.isSlideShow=!0,this.sameViewportWidthOnOrientation=!1,this.shouldSnapOnOrientation=!1,this.activeSlideIndex=0,this.swipeTargetOffset=0,this.isMaskFadingAnimation=!1,this.ani=null,this.paddingBufferWithoutDropShadow=0,this.enableAjaxBatchDataRequest=!1,this.ajaxBatchDataStopRequests=!1,this.enableFirstAjaxBatchOnExpansion=!1,this.ajaxBatchDataRequestFactor=3,this.disableSlideShowSwipeAnimation=!1,this.scrolling=!1,this.callbackBatchAjax=function(n){if(!n||n.length<=0){rt.seeMoreSlide&&(rt.bar.appendChild(rt.seeMoreSlide),rt.totalSlides++);return}for(var i=n.length,t=_d.createDocumentFragment();n.length;)t.appendChild(n[0]);rt.bar.appendChild(t);rt.totalSlides+=i;rt.updatePager();rt.updateChevrons();rt.ajaxBatchDataStopRequests=!1},this.autoSlidingInterval=i,this.id=n,this.controlId=t,this.bar=_ge(t),this.bar){if(this.control=_ge(this.bar.id+"c"),this.viewport=this.getViewPortParent(this.bar)||this.bar.parentElement,!this.viewport)return;if(this.showChevronAllTime=e,this.hideChevronsOnStart=w,this.paddingBuffer=b&&r?this.computePaddingBuffer():this.paddingBufferWithoutDropShadow,this.appns=this.control.getAttribute("data-appns"),this.kvalue=this.control.getAttribute("data-k"),this.isSlideShow=!r,this.slideExpType=r?"Carousel":"SlideShow",this.slideRightMargin=u,a&&(this.seeMoreSlide=_ge(this.controlId+"_carousel_seemore").parentElement,k&&this.bar.removeChild(this.seeMoreSlide)),this.totalSlides=this.bar.childElementCount,this.totalSlides<=0)throw"no slides was found";this.initialViewportWidth=this.viewportWidth();this.ajaxDataLoader=f;this.isSlideShow&&(this.sameViewportWidthOnOrientation=!0,this.shouldSnapOnOrientation=!0);this.enableVariedWidth=o&&this.isSlideShow;this.enableAutoSlidingFade=s;this.enableAutoStackableSlideCrossFading=h;this.enableHidePagerAndChevron=c;this.enableInitialOffset=y>0;this.enableNegativeBleeding=l;this.getExtraBleedingMargin();this.enableCarouselSeeMore=a;this.enableHighlightSelectedSlide=v;this.shownSlideIndex=y;this.enableInitialOffset&&(this.activeSlideIndex=y);this.stateKey=this.control.getAttribute("data-stk");this.enableSquareBackgroundOnHoverChevron=p;this.hoverRegion=p?this.bar:this.control;this.enableAjaxBatchDataRequest=k&&!d;this.enableFirstAjaxBatchOnExpansion=d;this.ajaxBatchDataRequestFactor=g;this.enableKeyboardNavigation=nt;this.disableSlideShowSwipeAnimation=tt;this.enableFocusOnSlideChild=it}}return n.prototype.computePaddingBuffer=function(){if(_w.getComputedStyle){var n=_w.getComputedStyle(this.viewport);return parseInt(n.paddingTop)+parseInt(n.paddingBottom)}return this.paddingBufferWithoutDropShadow},n.prototype.enableNativeScrolling=function(){var t,n,i,u,r;this.viewport&&this.viewport.getAttribute("nativeScrollingEnabled")!=="1"&&(this.viewport.parentElement.style.overflow="hidden",t=this.viewport.offsetHeight,t===0?(this.isSlideShow||Lib.CssClass.add(this.viewport,"scrollbar"),this.viewport.parentElement.style.position="relative",n=this.getViewPortParent(this.bar)||this.bar.parentElement,i=n.cloneNode(!0),i.style.opacity="0",i.style.overflow="hidden",n.style.position="absolute",n.style.width="100%",n.style.top="0",n.parentElement.insertBefore(i,n.parentElement.children[0]),this.bar.style.paddingBottom="10px"):(this.viewport.parentElement.style.height=""+t+"px",this.bar.style.height=""+this.viewportHeightToBarHeight(t)+"px",this.isSlideShow||(Lib.CssClass.add(this.viewport,"scrollbar"),u=this.viewport.offsetHeight,this.viewport.style.height=""+u+"px",this.viewport.style.marginBottom="-30px",this.viewport.style.paddingBottom="30px",this.enableCarouselSeeMore&&(r=this.seeMoreSlide.firstChild,r.style.height=""+t+"px",r.style.lineHeight=""+t+"px"))),this.viewport.setAttribute("nativeScrollingEnabled","1"))},n.prototype.init=function(){var n=this,o,s,h,t,f,i,e;this.enableHighlightSelectedSlide&&Lib.CssClass.add(this.bar,l);this.enableInitialOffset&&this.consumeInitialOffset();this.enableAutoStackableSlideCrossFading||this.enableNativeScrolling();this.enableVariedWidth&&this.hideOverlayInSlide();(this.enableAutoSlidingFade||this.enableAutoStackableSlideCrossFading)&&this.enablefirstSlideFade();sj_be(this.viewport,"scroll",function(){n.onScroll()});this.enableHidePagerAndChevron||Swipe.OnSwipe(function(t){if(n.isSlideShow){var i;n.enableVariedWidth?(i=n.activeSlideIndex-1,n.updateScrollingVariedWidth(t,++n.latestSwipeActionId,i)):(i=n.getActiveSlide()-1,n.updateScrollingEqualWidth(t,++n.latestSwipeActionId,i));_w.WireUp&&WireUp.setValue(n.control,"selected",i);_w.WireUp&&WireUp.setValue(n.control,"active",i);n.updateState(i)}Log.Log("Left","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue)},function(t){if(n.isSlideShow){var i;n.enableVariedWidth?(i=n.activeSlideIndex+1,n.updateScrollingVariedWidth(t,++n.latestSwipeActionId,i)):(i=n.getActiveSlide()+1,n.updateScrollingEqualWidth(t,++n.latestSwipeActionId,i));_w.WireUp&&WireUp.setValue(n.control,"selected",i);_w.WireUp&&WireUp.setValue(n.control,"active",i);n.updateState(i)}Log.Log("Right","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue)},this.control,this.swipeThreshold,function(t){n.isSlideShow&&(n.viewport.scrollLeft-=t,n.latestSwipeActionId=0,n.disableAutoSliding(),n.disableAutoSlidingAnimation())},function(t){n.isLeft=t>0;n.isRight=t<0;n.isSlideShow&&(n.enableVariedWidth?n.updateScrollingVariedWidth(t,++n.latestSwipeActionId,n.activeSlideIndex):n.updateScrollingEqualWidth(t,++n.latestSwipeActionId,n.getActiveSlide()));Log.Log("NoOp","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue)},function(){sj_evt.fire("slideexp_movestart",n.controlId)},!0,this.isSlideShow?!0:!1);this.isSlideShow||(sj_be(this.control,"mousedown",function(t){o=t.pageX;s=t.pageY;t.preventDefault&&t.preventDefault();var i=t.pageX,r=function(t){var r=t.pageX-i;n.viewport.scrollLeft-=r;i=t.pageX},u=function(){sj_ue(_w,"mousemove",r,!0);sj_ue(_w,"mouseup",u,!0)};sj_be(_w,"mousemove",r,!0);sj_be(_w,"mouseup",u,!0)},!0),h=function(n){(Math.abs(n.pageX-o)>5||Math.abs(n.pageY-s)>5)&&n.preventDefault&&n.preventDefault()},sj_be(this.control,"click",h,!0));this.updateMaxScrollLeft();Orientation.onOrientation(function(t){var i,u,f,e,r;n.enableVariedWidth&&(i=n.bar.children[0],u=(_w.innerWidth-n.getElementWidth(i))/2,i.style.marginLeft=""+u+"px",f=n.bar.children[n.bar.childElementCount-1],e=(_w.innerWidth-n.getElementWidth(i))/2,f.style.marginRight=""+e+"px",n.viewport.scrollLeft=n.calculateScrollLeft(n.activeSlideIndex));n.sameViewportWidthOnOrientation&&!n.enableVariedWidth&&(n.viewport.style.width=t?""+n.initialViewportWidth+"px":"");!n.shouldSnapOnOrientation||n.isSlidingAnimation()||n.enableVariedWidth||(n.viewport.scrollLeft=n.getActiveSlide()*n.slideWidth());n.updateMaxScrollLeft();r=_ge(n.controlId);r?Log.Log(t?"Landsc":"Portrt","SlideExp","Rotate",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue):Log.Log(t?"Landsc":"Portrt","SlideExp","Rotate",!1,"Type",n.slideExpType,"GeE","1","AppNS",n.appns,"K",n.kvalue);sj_evt.fire("slideexp_rotate",n.controlId,r?null:n.bar)});if(this.isAutoSlidingDisabled()||(sb_st(function(){n.autoSlide(0)},this.autoSlidingInterval*1e3),this.enableHidePagerAndChevron||(sj_be(this.control,"mouseover",function(){n.pauseAutoSliding();n.autoSlidingPausedTimeStamp=(new Date).getTime()}),sj_be(this.control,"mouseout",function(){var t=(new Date).getTime();t-n.autoSlidingPausedTimeStamp>5e3?(n.disableAutoSliding(),n.disableAutoSlidingAnimation()):n.resumeAutoSliding()}))),sj_be(this.hoverRegion,"mouseover",function(){n.enableChevronsOnSlideExperienceInvisibility();n.enableSquareBackgroundOnHoverChevron&&sj_evt.fire("slideexp_mouseover_dark",n.controlId);sj_evt.fire("slideexp_mouseover_show",n.controlId)}),sj_be(this.hoverRegion,"mouseout",function(){n.enableSquareBackgroundOnHoverChevron?sj_evt.fire("slideexp_mouseout_light",n.controlId):n.showChevronAllTime||sj_evt.fire("slideexp_mouseout_hide",n.controlId)}),this.enableHidePagerAndChevron||sj_be(this.control,"click",function(){n.disableAutoSliding();n.disableAutoSlidingAnimation()}),sj_evt.bind("slideexp_slideprev",function(t){n.isEventForMe(t)&&(n.disableAutoSliding(),n.disableAutoSlidingAnimation(),n.slidePrev())}),sj_evt.bind("slideexp_slidenext",function(t){n.isEventForMe(t)&&(n.disableAutoSliding(),n.disableAutoSlidingAnimation(),n.slideNext())}),sj_evt.bind("slideexp_expandright",function(t){n.isEventForMe(t)&&n.enableFirstAjaxBatchOnExpansion&&(n.disableAutoSliding(),n.disableAutoSlidingAnimation(),n.enableAjaxBatchDataRequest=!0,n.updateAjax())}),sj_evt.bind("slideexp_slidetoindex",function(t){if(n.isEventForMe(t)){var i=t[2];n.disableAutoSliding();n.disableAutoSlidingAnimation();n.isSlideShow?n.activeSlideIndex!==i&&n.slideToIndex(i,!1,n.disableSlideShowSwipeAnimation):n.slideToIndexWithMinOffset(i);Log.Log("SlideTo","SlideExp","ID"+i,!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue)}},!0),sj_evt.bind("slideexp_pauseautoslide",function(t){n.isEventForMe(t)&&n.pauseAutoSliding()}),sj_evt.bind("slideexp_resumeautoslide",function(t){n.isEventForMe(t)&&n.resumeAutoSliding()}),!this.isSlideShow&&this.enableHighlightSelectedSlide)for(t=0;t<this.bar.children.length;++t)sj_be(this.bar.children[t],"click",function(t){return function(){for(var u,i=0;i<n.bar.children.length;i++)u=n.bar.children[i],Lib.CssClass.remove(u,r);Lib.CssClass.add(n.bar.children[t],r);n.slideToIndexWithMinOffset(t);Log.Log("HighLight","SlideExp","Click",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue)}}(t));for(t=0;t<this.bar.children.length;++t)sj_be(this.bar.children[t],"click",function(t){return function(){_w.WireUp&&WireUp.setValue(n.control,"selected",t);n.isSlideShow||_w.WireUp&&WireUp.setValue(n.control,"active",t);Log.Log("ClickOnSlide","SlideExp","Click",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue)}}(t));if(this.enableKeyboardNavigation)for(i=0;i<this.bar.childElementCount;++i)sj_be(this.bar.children[i],"keydown",function(t){return function(i){i.keyCode===37&&t!==0?n.slideToIndex(t-1,!0):i.keyCode===39&&t!==n.bar.childElementCount-1&&n.slideToIndex(t+1,!0)}}(i)),sj_be(this.bar.children[i],"focus",function(){n.disableAutoSliding();n.disableAutoSlidingAnimation()});for(this.showChevronAllTime&&!this.hideChevronsOnStart&&(this.updateChevrons(),sj_evt.fire("slideexp_mouseover_show",this.controlId)),this.updatePager(),this.updateChevrons(),this.updateAjax(),f=6e5,i=0;i<this.totalSlides;++i)f=Math.min(f,this.ajaxDataLoader.autoReloadingInterval(this.getSlide(i)));f=Math.max(f,1e4);e=this;sb_si(function(){e.updateAjax.apply(e)},f);u[this.id]=e;sj_evt.fire("slideexp_init_done",this.controlId)},n.prototype.onScroll=function(){var n=this;this.scrolling||(this.scrolling=!0,sb_st(function(){n.updatePager();n.updateChevrons();n.updateAjax();sj_evt.fire("slideexp_scroll",n.controlId);Log.Log("Scroll","SlideExp","Scroll",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue);n.scrolling=!1},1e3))},n.prototype.disableAutoSliding=function(){this.autoSlidingInterval=0},n.prototype.disableAutoSlidingAnimation=function(){var n,i;if(!this.enableAutoStackableSlideCrossFading)for(Lib.CssClass.remove(this.bar,h),n=0;n<this.bar.childElementCount;n++)i=this.bar.children[n],Lib.CssClass.remove(i,t);this.enableAutoSlidingFade=!1},n.prototype.isAutoSlidingDisabled=function(){return this.autoSlidingInterval===0},n.prototype.isAutoSlidingPaused=function(){return this.autoSlidingInterval<0},n.prototype.pauseAutoSliding=function(){this.isAutoSlidingPaused()||this.isAutoSlidingDisabled()||this.enableAutoStackableSlideCrossFading&&this.enableHidePagerAndChevron||(this.autoSlidingInterval=-this.autoSlidingInterval)},n.prototype.resumeAutoSliding=function(){this.isAutoSlidingDisabled()||!this.isAutoSlidingPaused()||this.enableAutoStackableSlideCrossFading&&this.enableHidePagerAndChevron||(this.autoSlidingInterval=-this.autoSlidingInterval)},n.prototype.getVisibleSlidesIndices=function(){for(var t=[],n=0;n<this.totalSlides;n++)this.isSlideVisible(n)&&t.push(n);return t},n.prototype.getVisiblePercentage=function(n){var t=0,i=this.getVisibleSlidesIndices(),r,u,f;return i.indexOf(n)>-1&&(u=n===this.totalSlides?n*(this.slideWidth()+this.slideRightMargin)-this.slideRightMargin:n*(this.slideWidth()+this.slideRightMargin),i.indexOf(n)===0?(f=this.viewport.scrollLeft-this.getExtraBleedingMargin()-u,r=f<0?this.slideWidth():this.slideWidth()-f,t=r/this.slideWidth()):i.indexOf(n)===i.length-1?(r=this.viewport.scrollLeft-this.getExtraBleedingMargin()+this.viewportWidth()-u,t=r/this.slideWidth()):t=1),Math.round(t*100)},n.prototype.viewportHeightToBarHeight=function(n){return n-this.paddingBuffer},n.prototype.hideOverlayInSlide=function(){var n=this.bar.children[this.shownSlideIndex>0?this.shownSlideIndex:0],t=n.children[n.childElementCount-1];Lib.CssClass.add(t,f)},n.prototype.enablefirstSlideFade=function(){var n=this.bar.children[0];Lib.CssClass.add(n,t)},n.prototype.enableChevronsOnSlideExperienceInvisibility=function(){this.updateMaxScrollLeft();this.updateChevrons()},n.prototype.getElementWidth=function(n){if(!n)return 0;if(_w.getComputedStyle){var t=_w.getComputedStyle(n).width;return Number(t.substring(0,t.length-2))}return n.scrollWidth},n.prototype.updateMaxScrollLeft=function(){if(this.enableVariedWidth){var n=this.bar.children[0],t=this.bar.children[this.bar.childElementCount-1],i=Math.abs(this.viewport.offsetWidth-this.getElementWidth(n))/2,r=Math.abs(this.viewport.offsetWidth-this.getElementWidth(t))/2;this.maxScrollLeft=i+this.viewport.scrollWidth+r-this.viewport.offsetWidth}else this.maxScrollLeft=this.viewport.scrollWidth-this.viewport.offsetWidth},n.prototype.firstElementChild=function(n){if(n.firstElementChild)return n.firstElementChild;for(var t=n.firstChild;t;){if(t.nodeType==1)return t;t=t.nextSibling}return null},n.prototype.slideWidth=function(){return this.isSlideShow?this.enableVariedWidth?this.slideRightMargin+this.getElementWidth(this.getSlide(this.activeSlideIndex)):this.slideRightMargin+this.getElementWidth(this.firstElementChild(this.bar)):this.getElementWidth(this.firstElementChild(this.bar))},n.prototype.viewportWidth=function(){return this.getElementWidth(this.viewport)},n.prototype.isCssTransitionSupported=function(){var n=this.viewport.style,t=n.WebkitTransition!=null,i=n.MozTransition!=null,r=n.OTransition!=null;return t||i||r||n.transition!=null},n.prototype.getActiveSlide=function(){return Math.round(this.viewport.scrollLeft/this.slideWidth())},n.prototype.getSlide=function(n){return this.bar.children[n]},n.prototype.updateAjax=function(){var i=this.enableVariedWidth?this.activeSlideIndex:this.getActiveSlide(),r=this.slideWidth()+this.slideRightMargin,n=Math.ceil(this.viewportWidth()/r),t;if(this.isSlideShow&&n++,this.enableAjaxBatchDataRequest)this.ajaxBatchDataStopRequests||i+n*this.ajaxBatchDataRequestFactor>this.totalSlides&&(this.ajaxBatchDataStopRequests=!0,sj_evt.fire("ajaxBatchDataRequired_"+this.controlId,n,this.callbackBatchAjax));else for(t=Math.max(0,i-n);t<Math.min(this.totalSlides,i+n);++t)this.ajaxDataLoader.loadAjaxData(this.getSlide(t))},n.prototype.updatePager=function(n){i();n||(n=this.activeSlideIndex);sj_evt.fire("pager_updateindex",this.controlId,n)},n.prototype.updateScrollingEqualWidth=function(n,t,i){var s=this,r,o;if(t===this.latestSwipeActionId){var e=this.viewport.scrollLeft-n*this.animationInterval,u=Math.floor(this.viewport.scrollLeft/this.slideWidth()),f=Math.floor(e/this.slideWidth()),h=this.viewport.scrollLeft%this.slideWidth()==0;if(this.isLeftMost()||this.isRightMost()){this.updatePager();this.updateAjax();return}if(r=0,this.isSlideShow){if(h){this.updatePager();this.updateAjax();return}if(u!==f){n<0?(this.viewport.scrollLeft=f*this.slideWidth(),this.activeSlideIndex=f):(this.viewport.scrollLeft=u*this.slideWidth(),this.activeSlideIndex=u);this.updatePager();this.updateAjax();return}this.viewport.scrollLeft=e;i=Math.max(0,Math.min(this.totalSlides-1,i));o=i*this.slideWidth()-this.viewport.scrollLeft;r=o*-.005;r=r>0?Math.min(1,r):Math.max(-1,r);sb_st(function(){s.updateScrollingEqualWidth(n+r,t,i)},this.animationInterval);return}}},n.prototype.calculateScrollLeft=function(n){var i=0,t;for(n=n===this.totalSlides?this.totalSlides-1:n,t=n;t>0;t--){var r=this.getElementWidth(this.bar.children[t-1])+this.slideRightMargin,u=(this.viewport.offsetWidth-this.getElementWidth(this.bar.children[t-1]))/2,f=(this.viewport.offsetWidth-this.getElementWidth(this.bar.children[t]))/2;i+=r-f+u}return i},n.prototype.updateScrollingVariedWidth=function(n,t,r){var l=this,e,s,o,h,c;i();var a=r>this.activeSlideIndex,v=r<this.activeSlideIndex,y=r===this.activeSlideIndex;if(t==this.latestSwipeActionId){var f=this.viewport.scrollLeft-n*this.animationInterval,p=this.viewport.scrollLeft%this.calculateScrollLeft(r)==0,u=0;if(this.isSlideShow){if(p){this.updatePager();this.updateAjax();return}if(a&&f>=this.calculateScrollLeft(r)){if(this.activeSlideIndex>this.bar.childElementCount-2)return;this.viewport.scrollLeft=this.calculateScrollLeft(r);this.activeSlideIndex++;e=this.bar.children[this.activeSlideIndex-1];s=e.children[e.childElementCount-1];this.fadingOnOverlay(s);this.updatePager();this.updateAjax();return}if(v&&f<=this.calculateScrollLeft(r)){if(this.activeSlideIndex<1)return;this.viewport.scrollLeft=this.calculateScrollLeft(r);this.activeSlideIndex--;o=this.bar.children[this.activeSlideIndex+1];h=o.children[o.childElementCount-1];this.fadingOnOverlay(h);this.updatePager();this.updateAjax();return}if(y){if(this.isRight&&f<=this.calculateScrollLeft(r)){this.viewport.scrollLeft=this.calculateScrollLeft(r);return}if(this.isLeft&&f>=this.calculateScrollLeft(r)){this.viewport.scrollLeft=this.calculateScrollLeft(r);return}}this.viewport.scrollLeft=f;r=Math.max(0,Math.min(this.totalSlides-1,r));c=this.calculateScrollLeft(r)-this.viewport.scrollLeft;u=c*-.005;u=u>0?Math.min(1,u):Math.max(-1,u);sb_st(function(){l.updateScrollingVariedWidth(n+u,t,r)},this.animationInterval);return}}},n.prototype.totalWidthOfSlidesWithinViewport=function(){var n=this.slideWidth()+this.slideRightMargin;return Math.floor(this.viewportWidth()/n)*n},n.prototype.setSlideTabFocus=function(){for(var t,i,n=0;n<this.bar.childElementCount;n++)t=this.bar.children[n],t.removeAttribute("tabindex");i=this.bar.children[this.activeSlideIndex];i.tabIndex=0},n.prototype.consumeInitialOffset=function(){var n,t,i;this.enableVariedWidth?(n=this.bar.children[0],t=(this.viewportWidth()-this.getElementWidth(n))/2,n.style.marginLeft=t+"px",this.viewport.scrollLeft=this.calculateScrollLeft(this.activeSlideIndex)):(i=getComputedStyle(this.bar).marginLeft,this.bar.style.marginLeft="",this.viewport.scrollLeft=Math.abs(parseInt(i)));this.enableInitialOffset=!1;this.isSlideShow&&(this.activeSlideIndex=this.shownSlideIndex)},n.prototype.slidePrev=function(){var t,n,r,e;if(!this.isSlidingAnimation()){if(this.isSlideShow){if(this.enableAutoStackableSlideCrossFading&&this.activeSlideIndex>0)this.fadingOnSlide(this.bar.children[this.activeSlideIndex-1]);else if(this.enableVariedWidth){if(this.isMaskFadingAnimation)return;if(this.isMaskFadingAnimation=!0,this.activeSlideIndex<1){this.isMaskFadingAnimation=!1;return}n=this.calculateScrollLeft(this.activeSlideIndex-1)}else{if(this.isLeftMost())return;n=this.viewport.scrollLeft-this.slideWidth();n=Math.max(n,0)}this.activeSlideIndex--;_w.WireUp&&WireUp.setValue(this.control,"active",this.activeSlideIndex)}else{if(this.isLeftMost())return;var u=this.slideWidth(),f=this.viewportWidth(),i=u+this.slideRightMargin,o=f%i>=u?1:0,s=Math.floor(f/i)+o,h=Math.ceil(this.viewport.scrollLeft/i),c=Math.max(0,h-s);t=c*i;t=Math.max(t,0)}this.isSlideShow&&this.enableAutoStackableSlideCrossFading?(this.updatePager(),this.updateChevrons()):(this.slideToOffset(this.isSlideShow?n:t),this.isSlideShow&&this.enableVariedWidth&&(r=this.bar.children[this.activeSlideIndex+1],e=r.children[r.childElementCount-1],this.fadingOnOverlay(e)));sj_evt.fire("slideexp_slideprev_move",this.controlId);Log.Log("Prev","SlideExp","Slide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue);this.updateState(this.activeSlideIndex)}},n.prototype.fadingOnOverlay=function(n){var l=this,r,e,i,u,c;this.enableVariedWidth&&this.shownSlideIndex>0&&(r=this.bar.children[this.shownSlideIndex],e=r.children[r.childElementCount-1],e.style.opacity="");var o=this.bar.children[0],a=o.children[o.childElementCount-1],s=this.bar.children[this.activeSlideIndex],h=s.children[s.childElementCount-1];for(Lib.CssClass.remove(n,f),a.style.opacity=this.activeSlideIndex===0?"0":"0.7",i=0;i<this.bar.childElementCount;i++)u=this.bar.children[i],c=u.children[u.childElementCount-1],Lib.CssClass.remove(c,t);sb_st(function(){Lib.CssClass.add(h,t)},1);sb_st(function(){Lib.CssClass.add(h,f);l.isMaskFadingAnimation=!1},300)},n.prototype.slideNext=function(){var n,t,r,e;if(!this.isSlidingAnimation()){if(this.isSlideShow){if(this.enableAutoStackableSlideCrossFading&&!this.enableHidePagerAndChevron&&this.activeSlideIndex<this.bar.childElementCount-1)this.fadingOnSlide(this.bar.children[this.activeSlideIndex+1]);else if(this.enableVariedWidth){if(this.isMaskFadingAnimation)return;if(this.isMaskFadingAnimation=!0,this.activeSlideIndex>this.bar.childElementCount-2){this.isMaskFadingAnimation=!1;return}t=this.calculateScrollLeft(this.activeSlideIndex+1)}else{if(this.isRightMost())return;t=(this.getActiveSlide()+1)*this.slideWidth()}this.activeSlideIndex++;_w.WireUp&&WireUp.setValue(this.control,"active",this.activeSlideIndex)}else{if(this.isRightMost())return;var u=this.slideWidth(),f=this.viewportWidth(),i=u+this.slideRightMargin,o=(this.viewport.scrollLeft+f)%i>=u?1:0,s=Math.floor((this.viewport.scrollLeft+f)/i)+o;n=s*i;n=Math.min(n,this.maxScrollLeft)}this.enableAutoStackableSlideCrossFading?(this.updatePager(),this.updateChevrons()):(this.slideToOffset(this.isSlideShow?t:n),this.isSlideShow&&this.enableVariedWidth&&(r=this.bar.children[this.activeSlideIndex-1],e=r.children[r.childElementCount-1],this.fadingOnOverlay(e)));sj_evt.fire("slideexp_slidenext_move",this.controlId);Log.Log("Next","SlideExp","Slide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue);this.updateState(this.activeSlideIndex)}},n.prototype.fadingOnSlide=function(n){var i,r;for(Lib.CssClass.remove(this.bar,c),i=0;i<this.bar.childElementCount;i++)r=this.bar.children[i],Lib.CssClass.remove(r,t);this.enableAutoSlidingFade?sb_st(function(){Lib.CssClass.add(n,t)},500):this.enableAutoStackableSlideCrossFading&&Lib.CssClass.add(n,t)},n.prototype.slideToIndex=function(n,t,r){var f=this,e,o,u,s;if((t===void 0&&(t=!1),r===void 0&&(r=!1),i(),!this.isSlidingAnimation())&&!(n<0)&&!(n>=this.totalSlides)){if(e=this.enableVariedWidth?this.calculateScrollLeft(n):this.slideWidth()*n,o=this.bar.children[n],this.enableVariedWidth){if(this.isMaskFadingAnimation)return;this.isMaskFadingAnimation=!0;u=this.bar.children[this.activeSlideIndex];s=u.children[u.childElementCount-1];this.activeSlideIndex=n;this.fadingOnOverlay(s)}else this.enableAutoStackableSlideCrossFading?(this.fadingOnSlide(this.bar.children[n]),this.activeSlideIndex=n,this.enableHidePagerAndChevron||(this.updatePager(n),this.updateChevrons())):(this.activeSlideIndex=n,this.enableAutoSlidingFade&&this.fadingOnSlide(o));t&&this.isAutoSlidingDisabled()&&this.setSlideTabFocus();sb_st(function(){f.slideToOffset(e,t?function(){f.setFocusOnCurrentSlide()}:null,r)},this.enableAutoSlidingFade?300:0);_w.WireUp&&WireUp.setValue(this.control,"active",n);sj_evt.fire("slideexp_toActiveIndex",this.controlId,n);this.updateState(this.activeSlideIndex)}},n.prototype.slideToIndexWithMinOffset=function(n){if(!this.isSlidingAnimation()&&!(n<0)&&!(n>=this.totalSlides)){if(this.isSlideVisible(n)){var t=this.slideWidth()+this.slideRightMargin;this.isRightNeighborVisible(n)?this.isLeftNeighborVisible(n)||this.slideToOffset(this.viewport.scrollLeft-t):this.slideToOffset(this.viewport.scrollLeft+t)}else this.slideToCenter(n);this.enableHighlightSelectedSlide&&(Lib.CssClass.remove(this.getSlide(this.activeSlideIndex),r),this.activeSlideIndex=n,Lib.CssClass.add(this.getSlide(this.activeSlideIndex),r))}},n.prototype.isSlideVisible=function(n){var t=this.getSlideLeftOffset(n),i=this.getSlideRightOffset(n);return this.isPositionVisible(t)||this.isPositionVisible(i)},n.prototype.isLeftNeighborVisible=function(n){var t=this.getSlideLeftOffset(n-1);return this.isPositionVisible(t)},n.prototype.isRightNeighborVisible=function(n){var t=this.getSlideRightOffset(n+1);return this.isPositionVisible(t)},n.prototype.isPositionVisible=function(n){return n>this.viewport.scrollLeft&&n<this.viewport.scrollLeft+this.viewportWidth()-this.getExtraBleedingMargin()},n.prototype.getExtraBleedingMargin=function(){return this.enableVariedWidth&&!this.isSlideShow?(this.extraBleedingMargin===undefined||this.extraBleedingMargin<0)&&(this.extraBleedingMargin=Math.abs(parseInt(getComputedStyle(this.bar).marginLeft))):(!this.extraBleedingMargin||this.extraBleedingMargin<=0)&&(this.extraBleedingMargin=this.viewport.scrollWidth-(this.totalSlides*(this.slideWidth()+this.slideRightMargin)-this.slideRightMargin)+Math.abs(parseInt(getComputedStyle(this.bar).marginLeft))),this.extraBleedingMargin},n.prototype.getSlideLeftOffset=function(n){return this.getSlideOffset(n)},n.prototype.getSlideRightOffset=function(n){return this.getSlideOffset(n+1)},n.prototype.getSlideOffset=function(n){var t,i,r;if(n<0?n=0:n>this.totalSlides&&(n=this.totalSlides),t=0,this.enableVariedWidth&&!this.isSlideShow)for(i=0;i<n;i++)t+=this.getSlide(i).scrollWidth+this.slideRightMargin;else r=this.slideWidth()+this.slideRightMargin,t=n*r;return n===this.totalSlides&&(t-=this.slideRightMargin),t},n.prototype.slideToCenter=function(n){var t=this.slideWidth()+this.slideRightMargin,i=n*t,r=i-this.viewportWidth()/2+t/2;this.slideToOffset(r)},n.prototype.isSlidingAnimation=function(){return this.ani!=null||Lib.CssClass.contains(this.bar,"anim")},n.prototype.setFocusOnCurrentSlide=function(){var n=this.bar.children[this.activeSlideIndex],t;this.enableFocusOnSlideChild?(t=AccessibilityHelpers.getFocusableElementWithin(n)||n,t.focus()):n.focus()},n.prototype.slideToOffset=function(n,t,i){t===void 0&&(t=null);i===void 0&&(i=!1);this.updateMaxScrollLeft();var r=this.maxScrollLeft;n<0?n=0:n>r&&(n=r);this.updatePager();i?(this.viewport.scrollLeft=n,t&&t()):this.isCssTransitionSupported()?this.slideToOffsetUsingTransition(n,t):this.slideToOffsetUsingJs(n,t)},n.prototype.slideToOffsetUsingTransition=function(n,t){var i=this,u,r;if(t===void 0&&(t=null),this.enableAutoSlidingFade)this.viewport.scrollLeft=n,t&&t();else{if(u=n-this.viewport.scrollLeft,u===0){t&&t();return}r=function(){Lib.CssClass.remove(i.bar,"anim");i.bar.style.transition="x";i.bar.style.marginLeft="";i.viewport.scrollLeft=n;i.updateChevrons();sj_ue(i.bar,"transitionend",r);sj_ue(i.bar,"webkitTransitionEnd",r);sj_ue(i.bar,"oTransitionEnd",r);t&&t()};sj_be(this.bar,"transitionend",r);sj_be(this.bar,"webkitTransitionEnd",r);sj_be(this.bar,"oTransitionEnd",r);this.bar.style.transition="";Lib.CssClass.add(this.bar,"anim");this.bar.style.marginLeft=""+-u+"px"}},n.prototype.slideToOffsetUsingJs=function(n,t){var i=this;t===void 0&&(t=null);this.ani=new sj_anim(function(n,t){n.scrollLeft=t});var r=this.ani.getInterval()/1e3,u=this.slidingTimeSpan/r,f=this.slideWidth()/u;this.ani.init(this.viewport,this.viewport.scrollLeft,n,f,function(){i.ani=null;i.updateChevrons();i.updateAjax();t&&t()})},n.prototype.isLeftMost=function(){return(this.updateMaxScrollLeft(),this.enableVariedWidth||this.enableAutoStackableSlideCrossFading&&!this.enableHidePagerAndChevron)?this.activeSlideIndex===0:this.viewport.scrollLeft<=0},n.prototype.isRightMost=function(){return(this.updateMaxScrollLeft(),this.enableVariedWidth||this.enableAutoStackableSlideCrossFading&&!this.enableHidePagerAndChevron)?this.activeSlideIndex===this.bar.childElementCount-1:Math.ceil(this.viewport.scrollLeft)>=this.maxScrollLeft},n.prototype.updateChevrons=function(){if(i(),this.isLeftMost()&&this.isRightMost()){sj_evt.fire("slideexp_leftrightmost",this.controlId);return}if(this.isLeftMost()){sj_evt.fire("slideexp_leftmost",this.controlId);return}if(this.isRightMost()){sj_evt.fire("slideexp_rightmost",this.controlId);return}sj_evt.fire("slideexp_middle",this.controlId)},n.prototype.nextSlide=function(n){return(n+1)%this.totalSlides},n.prototype.autoSlide=function(n){var i=this,t;if(!this.isAutoSlidingDisabled()){if(this.isAutoSlidingPaused()){sb_st(function(){i.autoSlide(n)},this.autoSlidingInterval*1e3);return}t=this.nextSlide(n);this.slideToIndex(t);sb_st(function(){i.autoSlide(t)},this.autoSlidingInterval*1e3);sj_evt.fire("autoSlide")}},n.prototype.isEventForMe=function(n){var t=n[1];return t==this.controlId||t==this.controlId+"c"},n.prototype.updateState=function(n){(i(),this.stateKey!="")&&_w.StateUpdater&&_w.StateUpdater.update(this.stateKey,n.toString())},n.prototype.getViewPortParent=function(n){return n==null||this.control==n?null:Lib.CssClass.contains(n,"b_viewport")?n:this.getViewPortParent(n.parentElement)},n}();u={};n.init=a;n.slide=v;n.getVisibleSlidesIndices=y;n.isSlideVisible=p;sj_evt.fire("slideexperience_init",n);_w.WireUp&&WireUp.init("slideexp_init",function(n){if(n){var t=n.getAttribute("data-control-id");WireUp.onUpdate(n,"select",function(n,i,r,u){sj_evt.fire("slideexp_slidetoindex",t,u)})}})})(SlideExperience||(SlideExperience={}))